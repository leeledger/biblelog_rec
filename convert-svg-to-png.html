<!DOCTYPE html>
<html>
<head>
    <title>SVG to PNG Converter</title>
</head>
<body>
    <h2>PWA 아이콘 변환기</h2>
    <canvas id="canvas192" width="192" height="192" style="border: 1px solid #ccc; margin: 10px;"></canvas>
    <canvas id="canvas512" width="512" height="512" style="border: 1px solid #ccc; margin: 10px;"></canvas>
    <br>
    <button onclick="downloadPNG(192)">192x192 PNG 다운로드</button>
    <button onclick="downloadPNG(512)">512x512 PNG 다운로드</button>

    <script>
        // SVG 내용
        const svgContent192 = `<svg width="192" height="192" viewBox="0 0 192 192" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="192" height="192" rx="24" fill="#4F46E5"/>
            <path d="M48 144V48h32c8.837 0 16 7.163 16 16v16c0 8.837-7.163 16-16 16H64v48H48zm16-64h16V64H64v16z" fill="white"/>
            <path d="M112 144V48h32c8.837 0 16 7.163 16 16v64c0 8.837-7.163 16-16 16h-32zm16-16h16V64h-16v64z" fill="white"/>
            <circle cx="96" cy="96" r="8" fill="#FFD700"/>
        </svg>`;

        const svgContent512 = `<svg width="512" height="512" viewBox="0 0 192 192" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="192" height="192" rx="24" fill="#4F46E5"/>
            <path d="M48 144V48h32c8.837 0 16 7.163 16 16v16c0 8.837-7.163 16-16 16H64v48H48zm16-64h16V64H64v16z" fill="white"/>
            <path d="M112 144V48h32c8.837 0 16 7.163 16 16v64c0 8.837-7.163 16-16 16h-32zm16-16h16V64h-16v64z" fill="white"/>
            <circle cx="96" cy="96" r="8" fill="#FFD700"/>
        </svg>`;

        function convertSVGtoPNG(svgContent, size) {
            const canvas = document.getElementById(`canvas${size}`);
            const ctx = canvas.getContext('2d');
            
            const img = new Image();
            const svgBlob = new Blob([svgContent], {type: 'image/svg+xml;charset=utf-8'});
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                ctx.drawImage(img, 0, 0, size, size);
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }

        function downloadPNG(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const link = document.createElement('a');
            link.download = `pwa-${size}x${size}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // 페이지 로드 시 변환 실행
        window.onload = function() {
            convertSVGtoPNG(svgContent192, 192);
            convertSVGtoPNG(svgContent512, 512);
        };
    </script>
</body>
</html>